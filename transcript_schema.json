{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "Standardized Transcript JSON Schema v2.0",
  "description": "Schema for the standardized JSON output format of the transcript processor with required/optional field separation",
  "type": "object",
  "required": [
    "transcript_metadata",
    "student_information", 
    "academic_record",
    "additional_information",
    "raw_data"
  ],
  "properties": {
    "transcript_metadata": {
      "type": "object",
      "required": ["processing_timestamp", "source_file", "processing_version", "total_courses"],
      "properties": {
        "processing_timestamp": {
          "type": "string",
          "format": "date-time",
          "description": "ISO timestamp when the transcript was processed"
        },
        "source_file": {
          "type": "string",
          "description": "Name of the source PDF file"
        },
        "processing_version": {
          "type": "string",
          "description": "Version of the processing algorithm"
        },
        "total_courses": {
          "type": "integer",
          "minimum": 0,
          "description": "Total number of courses found in the transcript"
        }
      }
    },
    "student_information": {
      "type": "object",
      "required": ["student_name", "date_of_birth", "school_name"],
      "properties": {
        "student_name": {"type": ["string", "null"], "description": "Full name of the student (REQUIRED)"},
        "date_of_birth": {"type": ["string", "null"], "description": "Student's date of birth (REQUIRED)"},
        "school_name": {"type": ["string", "null"], "description": "Name of the educational institution (REQUIRED)"},
        "school_address": {"type": ["string", "null"], "description": "Physical address of the school (optional)"},
        "student_id": {"type": ["string", "null"], "description": "Student's ID number (optional)"},
        "graduation_date": {"type": ["string", "null"], "description": "Date of graduation (optional)"},
        "degree": {"type": ["string", "null"], "description": "Type of degree earned (optional)"},
        "major": {"type": ["string", "null"], "description": "Student's major field of study (optional)"},
        "gpa": {"type": ["string", "null"], "description": "Grade point average (optional)"}
      }
    },
    "academic_record": {
      "type": "object",
      "required": ["courses", "summary_statistics"],
      "properties": {
        "courses": {
          "type": "array",
          "items": {
            "type": "object",
            "required": ["course_code", "course_name", "course_credits", "course_grade", "date_completed"],
            "properties": {
              "course_code": {"type": ["string", "null"], "description": "Course code/number (REQUIRED)"},
              "course_name": {"type": ["string", "null"], "description": "Full course title/name (REQUIRED)"},
              "course_credits": {"type": ["string", "null"], "description": "Number of credits for the course (REQUIRED)"},
              "course_grade": {"type": ["string", "null"], "description": "Grade received (REQUIRED)"},
              "date_completed": {"type": ["string", "null"], "description": "When the course was completed (REQUIRED)"},
              "course_hours": {"type": ["string", "null"], "description": "Course hours if specified (optional)"},
              "term": {"type": ["string", "null"], "description": "Academic term/semester (optional)"}
            }
          }
        },
        "summary_statistics": {
          "type": "object",
          "required": ["total_credits_attempted", "total_credits_earned", "total_courses", "overall_gpa"],
          "properties": {
            "total_credits_attempted": {"type": "string", "description": "Total credits attempted across all courses"},
            "total_credits_earned": {"type": "string", "description": "Total credits earned across all courses"},
            "total_courses": {"type": "integer", "description": "Total number of courses"},
            "overall_gpa": {"type": "string", "description": "Overall GPA"}
          }
        }
      }
    },
    "additional_information": {
      "type": "object",
      "required": ["honors_awards", "transfer_credits", "notes", "extracted_fields"],
      "properties": {
        "honors_awards": {
          "type": "array",
          "items": {"type": "string"},
          "description": "List of honors and awards"
        },
        "transfer_credits": {
          "type": "array", 
          "items": {"type": "object"},
          "description": "List of transfer credit information"
        },
        "notes": {
          "type": "array",
          "items": {"type": "string"},
          "description": "Additional notes from the transcript"
        },
        "extracted_fields": {
          "type": "object",
          "description": "Any additional fields extracted during processing"
        }
      }
    },
    "raw_data": {
      "type": "object",
      "required": ["extracted_text", "text_length"],
      "properties": {
        "extracted_text": {
          "type": "string",
          "description": "Raw text extracted from the PDF"
        },
        "text_length": {
          "type": "integer",
          "minimum": 0,
          "description": "Length of the extracted text"
        }
      }
    }
  }
}