{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "Standardized Transcript JSON Schema",
  "description": "Schema for the standardized JSON output format of the transcript processor",
  "type": "object",
  "required": [
    "transcript_metadata",
    "student_information", 
    "academic_record",
    "additional_information",
    "raw_data"
  ],
  "properties": {
    "transcript_metadata": {
      "type": "object",
      "required": ["processing_timestamp", "source_file", "processing_version", "total_courses"],
      "properties": {
        "processing_timestamp": {
          "type": "string",
          "format": "date-time",
          "description": "ISO timestamp when the transcript was processed"
        },
        "source_file": {
          "type": "string",
          "description": "Name of the source PDF file"
        },
        "processing_version": {
          "type": "string",
          "description": "Version of the processing algorithm"
        },
        "total_courses": {
          "type": "integer",
          "minimum": 0,
          "description": "Total number of courses found in the transcript"
        }
      }
    },
    "student_information": {
      "type": "object",
      "required": ["personal_details", "academic_details"],
      "properties": {
        "personal_details": {
          "type": "object",
          "required": ["first_name", "last_name", "full_name", "student_id"],
          "properties": {
            "first_name": {"type": "string", "description": "Student's first name"},
            "last_name": {"type": "string", "description": "Student's last name"},
            "full_name": {"type": "string", "description": "Student's full name"},
            "student_id": {"type": "string", "description": "Student's ID number"}
          }
        },
        "academic_details": {
          "type": "object",
          "required": ["school_name", "degree", "major", "graduation_date", "gpa"],
          "properties": {
            "school_name": {"type": "string", "description": "Name of the educational institution"},
            "degree": {"type": "string", "description": "Type of degree earned"},
            "major": {"type": "string", "description": "Student's major field of study"},
            "graduation_date": {"type": "string", "description": "Date of graduation"},
            "gpa": {"type": "string", "description": "Grade point average"}
          }
        }
      }
    },
    "academic_record": {
      "type": "object",
      "required": ["courses", "summary_statistics"],
      "properties": {
        "courses": {
          "type": "array",
          "items": {
            "type": "object",
            "required": [
              "course_identification",
              "enrollment_details", 
              "credit_information",
              "grade_information"
            ],
            "properties": {
              "course_identification": {
                "type": "object",
                "required": ["course_code", "course_title", "course_description"],
                "properties": {
                  "course_code": {"type": "string", "description": "Course code/number"},
                  "course_title": {"type": "string", "description": "Course title"},
                  "course_description": {"type": "string", "description": "Course description"}
                }
              },
              "enrollment_details": {
                "type": "object",
                "required": ["semester", "year", "academic_period"],
                "properties": {
                  "semester": {"type": "string", "description": "Semester when course was taken"},
                  "year": {"type": "string", "description": "Year when course was taken"},
                  "academic_period": {"type": "string", "description": "Combined semester and year"}
                }
              },
              "credit_information": {
                "type": "object",
                "required": ["credits_attempted", "credits_earned", "credit_type"],
                "properties": {
                  "credits_attempted": {"type": "string", "description": "Number of credits attempted"},
                  "credits_earned": {"type": "string", "description": "Number of credits earned"},
                  "credit_type": {"type": "string", "description": "Type of credit (standard, transfer, etc.)"}
                }
              },
              "grade_information": {
                "type": "object",
                "required": ["letter_grade", "pass_fail_indicator", "grade_points", "grade_status"],
                "properties": {
                  "letter_grade": {"type": "string", "description": "Letter grade received"},
                  "pass_fail_indicator": {"type": "string", "description": "Pass/Fail indicator if applicable"},
                  "grade_points": {"type": "string", "description": "Grade points earned"},
                  "grade_status": {"type": "string", "description": "Status of the grade (completed, in_progress, etc.)"}
                }
              }
            }
          }
        },
        "summary_statistics": {
          "type": "object",
          "required": ["total_credits_attempted", "total_credits_earned", "total_courses", "overall_gpa"],
          "properties": {
            "total_credits_attempted": {"type": "string", "description": "Total credits attempted across all courses"},
            "total_credits_earned": {"type": "string", "description": "Total credits earned across all courses"},
            "total_courses": {"type": "integer", "description": "Total number of courses"},
            "overall_gpa": {"type": "string", "description": "Overall GPA"}
          }
        }
      }
    },
    "additional_information": {
      "type": "object",
      "required": ["honors_awards", "transfer_credits", "notes", "extracted_fields"],
      "properties": {
        "honors_awards": {
          "type": "array",
          "items": {"type": "string"},
          "description": "List of honors and awards"
        },
        "transfer_credits": {
          "type": "array", 
          "items": {"type": "object"},
          "description": "List of transfer credit information"
        },
        "notes": {
          "type": "array",
          "items": {"type": "string"},
          "description": "Additional notes from the transcript"
        },
        "extracted_fields": {
          "type": "object",
          "description": "Any additional fields extracted during processing"
        }
      }
    },
    "raw_data": {
      "type": "object",
      "required": ["extracted_text", "text_length"],
      "properties": {
        "extracted_text": {
          "type": "string",
          "description": "Raw text extracted from the PDF"
        },
        "text_length": {
          "type": "integer",
          "minimum": 0,
          "description": "Length of the extracted text"
        }
      }
    }
  }
}